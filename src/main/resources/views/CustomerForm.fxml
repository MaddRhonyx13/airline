<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.airline.controllers.CustomerController"
            style="-fx-padding: 20; -fx-background-color: linear-gradient(to bottom, #667eea 0%, #764ba2 100%);">

    <top>
        <Label text="Customer Reservation Form"
               style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white; -fx-padding: 0 0 20 0;"/>
    </top>

    <center>
        <ScrollPane fitToWidth="true">
            <VBox spacing="15" style="-fx-padding: 10;">

                <ProgressBar fx:id="reservationProgress" progress="0.0" prefWidth="1000"/>
                <Label text="Reservation Progress" style="-fx-font-weight: bold; -fx-text-fill: #764ba2; -fx-font-size: 16px;"/>

                <TitledPane text="Personal Details" style="-fx-text-fill: #764ba2; -fx-font-size: 14;">
                    <GridPane hgap="10" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints prefWidth="150"/>
                            <ColumnConstraints prefWidth="300"/>
                            <ColumnConstraints prefWidth="150"/>
                            <ColumnConstraints prefWidth="300"/>
                        </columnConstraints>

                        <Label text="Travel Date:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <DatePicker fx:id="travelDate" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Full Name:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                        <TextField fx:id="custName" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                        <Label text="Father's Name:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <TextField fx:id="fatherName" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Gender:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                        <ComboBox fx:id="gender" style="-fx-background-color: white; -fx-border-width: 1px; -fx-border-color: #764ba2; -fx-text-fill: #764ba2; -fx-font-weight: bold; -fx-height: 10px;" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                        <Label text="Date of Birth:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <DatePicker fx:id="dob" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Telephone:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="2" GridPane.columnIndex="2"/>
                        <TextField fx:id="telNo" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="2" GridPane.columnIndex="3"/>

                        <Label text="Profession:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <TextField fx:id="profession" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                        <Label text="Concession:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="3" GridPane.columnIndex="2"/>
                        <ComboBox fx:id="concession" style="-fx-background-color: white; -fx-border-width: 1px; -fx-border-color: #764ba2; -fx-text-fill: #764ba2; -fx-font-weight: bold; -fx-height: 10px;" GridPane.rowIndex="3" GridPane.columnIndex="3"/>
                    </GridPane>
                </TitledPane>

                <TitledPane text="Address Details" style="-fx-text-fill: #764ba2; -fx-font-size: 14px;">
                    <VBox spacing="10" style="-fx-padding: 15;">
                        <TextArea fx:id="address" style="-fx-text-fill: #764ba2;" promptText="Enter complete address"
                                  prefRowCount="3" prefWidth="800"/>
                    </VBox>
                </TitledPane>

                <TitledPane text="Flight Selection" style="-fx-text-fill: #764ba2; -fx-font-size: 14px;">
                    <VBox spacing="15" style="-fx-padding: 15;">
                        <HBox spacing="20">
                            <VBox spacing="5">
                                <Label text="From:" style="-fx-font-weight: bold; -fx-text-fill: #764ba2;"/>
                                <ComboBox fx:id="sourcePlace" style="-fx-background-color: white; -fx-border-width: 1px; -fx-border-color: #764ba2; -fx-text-fill: #764ba2; -fx-font-weight: bold; -fx-height: 10px;" prefWidth="200"/>
                            </VBox>

                            <VBox spacing="5">
                                <Label text="To:" style="-fx-font-weight: bold; -fx-text-fill: #764ba2;"/>
                                <ComboBox fx:id="destinationPlace" style="-fx-background-color: white; -fx-border-width: 1px; -fx-border-color: #764ba2; -fx-text-fill: #764ba2; -fx-font-weight: bold; -fx-height: 10px;" prefWidth="200"/>
                            </VBox>

                            <VBox spacing="5">
                                <Label text="Class:" style="-fx-font-weight: bold; -fx-text-fill: #764ba2;"/>
                                <ComboBox fx:id="seatClass" style="-fx-background-color: white; -fx-border-width: 1px; -fx-border-color: #764ba2; -fx-text-fill: #764ba2; -fx-font-weight: bold; -fx-height: 10px;" prefWidth="150"/>
                            </VBox>

                            <VBox spacing="5">
                                <Label text="Seat Preference:" style="-fx-font-weight: bold; -fx-text-fill: #764ba2;"/>
                                <ComboBox fx:id="seatPreference" style="-fx-background-color: white; -fx-border-width: 1px; -fx-border-color: #764ba2; -fx-text-fill: #764ba2; -fx-font-weight: bold; -fx-height: 10px;" prefWidth="150"/>
                            </VBox>
                        </HBox>

                        <Button text="ðŸ” Search Available Flights"
                                onAction="#searchFlights"
                                style="-fx-background-color: #764ba2; -fx-text-fill: white; -fx-font-weight: bold;"/>
                    </VBox>
                </TitledPane>

                <TitledPane text="Available Flights" fx:id="flightsSection" expanded="false">
                    <VBox spacing="10" style="-fx-padding: 15;">
                        <ListView fx:id="availableFlights" prefHeight="200"/>
                        <HBox spacing="10">
                            <Button text="Select Flight" onAction="#selectFlight"
                                    style="-fx-background-color: #764ba2; -fx-text-fill: white;"/>
                            <Button text="Refresh List" onAction="#refreshFlights"
                                    style="-fx-background-color: #95a5a6"/>
                        </HBox>
                    </VBox>
                </TitledPane>

                <TitledPane text="Fare Details">
                    <GridPane hgap="10" vgap="10" style="-fx-padding: 15;">
                        <columnConstraints>
                            <ColumnConstraints prefWidth="150"/>
                            <ColumnConstraints prefWidth="200"/>
                            <ColumnConstraints prefWidth="150"/>
                            <ColumnConstraints prefWidth="200"/>
                        </columnConstraints>

                        <Label text="Base Fare:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <TextField fx:id="baseFare" style="-fx-text-fill: #764ba2;" editable="false" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Concession Discount:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                        <TextField fx:id="discount" style="-fx-text-fill: #764ba2;" editable="false" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                        <Label text="Final Fare:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <TextField fx:id="finalFare" editable="false" style="-fx-font-weight: bold; -fx-text-fill: #764ba2;" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="PNR Number:" style="-fx-text-fill: #764ba2;" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                        <TextField fx:id="pnrNumber" style="-fx-text-fill: #764ba2;" editable="false" GridPane.rowIndex="1" GridPane.columnIndex="3"/>
                    </GridPane>
                </TitledPane>

            </VBox>
        </ScrollPane>
    </center>

    <bottom>
        <HBox spacing="15" style="-fx-padding: 20 0 0 0;" alignment="CENTER_RIGHT">
            <Button text="Calculate Fare" onAction="#calculateFare"
                    style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold;"/>

            <Button text="Confirm Reservation" onAction="#confirmReservation"
                    fx:id="confirmButton"
                    style="-fx-background-color: #764ba2; -fx-text-fill: white; -fx-font-weight: bold;"/>

            <Button text="Clear Form" onAction="#clearForm"
                    style="-fx-background-color: #95a5a6; -fx-text-fill: white;"/>

            <Button text="Close" onAction="#closeWindow"
                    style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
        </HBox>
    </bottom>

</BorderPane>
